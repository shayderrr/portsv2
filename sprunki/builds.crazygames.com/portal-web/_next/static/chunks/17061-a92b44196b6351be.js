try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="3076e04d-465b-4052-8dcb-b2dc47ef793f",e._sentryDebugIdIdentifier="sentry-dbid-3076e04d-465b-4052-8dcb-b2dc47ef793f")}catch(e){}{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};e._sentryModuleMetadata=e._sentryModuleMetadata||{},e._sentryModuleMetadata[new e.Error().stack]=Object.assign({},e._sentryModuleMetadata[new e.Error().stack],{"_sentryBundlerPluginAppKey:crazygames-portal":!0})}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[17061],{17061:(e,t,a)=>{a.d(t,{Ts:()=>P,NA:()=>i.NA});var i=a(86632),n=a(1886),r=a(68826),l=a(35586),s=a(63628),o=a(16546);let d=(0,o.F3)("SentryCapacitor");var c=a(94837);function v(e){var t;let a=null===(t=(0,l.KU)())||void 0===t?void 0:t.getOptions(),i=(0,c.S8)(e,null==a?void 0:a.normalizeDepth,null==a?void 0:a.normalizeMaxBreadth);return null===i||"object"!=typeof i?{value:i}:i}function f(e,t){let a;t=t||1/0;let i=e.length,n=null,r=[];for(let l=0;l<i;++l){if((a=e.charCodeAt(l))>55295&&a<57344){if(!n){if(a>56319||l+1===i){(t-=3)>-1&&r.push(239,191,189);continue}n=a;continue}if(a<56320){(t-=3)>-1&&r.push(239,191,189),n=a;continue}a=(n-55296<<10|a-56320)+65536}else n&&(t-=3)>-1&&r.push(239,191,189);if(n=null,a<128){if((t-=1)<0)break;r.push(a)}else if(a<2048){if((t-=2)<0)break;r.push(a>>6|192,63&a|128)}else if(a<65536){if((t-=3)<0)break;r.push(a>>12|224,a>>6&63|128,63&a|128)}else if(a<1114112){if((t-=4)<0)break;r.push(a>>18|240,a>>12&63|128,a>>6&63|128,63&a|128)}else throw Error("Invalid code point")}return r}let u={async sendEnvelope(e){if(!this.enableNative)throw this._DisabledNativeError;if(!this.isNativeClientAvailable())throw this._NativeClientError;let[t,a]=e,i=f(JSON.stringify(t));for(let e of(i.push(10),a)){let t;let[a,n]=this._processItem(e),r=[];"string"==typeof n?(t="text/plain",r=f(n)):n instanceof Uint8Array?(t="string"==typeof a.content_type?a.content_type:"application/octet-stream",r=[...n]):(t="application/vnd.sentry.items.log+json",r=f(JSON.stringify(n))),a.content_type=t,a.length=r.length;let l=JSON.stringify(a);i.push(...f(l)),i.push(10),(i=i.concat(r)).push(10)}let n=200;return await d.captureEnvelope({envelope:i}).then(e=>e,e=>{s.vF.error("Failed to capture Envelope: ",e),n=500}),{statusCode:n}},async initNativeSdk(e){if(!e.dsn)return s.vF.warn("Warning: No DSN was provided. The Sentry SDK will be disabled. Native SDK will also not be initalized."),this.enableNative=!1,!1;if(!e.enableNative)return e.enableNativeNagger&&s.vF.warn("Note: Native Sentry SDK is disabled."),this.enableNative=!1,!1;if(!this.isNativeClientAvailable())throw this._NativeClientError;let t={attachStacktrace:e.attachStacktrace,attachThreads:e.attachThreads,debug:e.debug,dist:e.dist,dsn:e.dsn,enabled:e.enabled,enableNdkScopeSync:e.enableNdkScopeSync,enableWatchdogTerminationTracking:e.enableWatchdogTerminationTracking,environment:e.environment,maxBreadcrumbs:e.maxBreadcrumbs,release:e.release,sampleRate:e.sampleRate,sendClientReports:e.sendClientReports,sendDefaultPii:e.sendDefaultPii,sessionTrackingIntervalMillis:e.sessionTrackingIntervalMillis,tracesSampleRate:e.tracesSampleRate,enableCaptureFailedRequests:e.enableCaptureFailedRequests,..."ios"===o.Ii.getPlatform()?{enableAppHangTracking:e.enableAppHangTracking,appHangTimeoutInterval:e.appHangTimeoutInterval}:{},...function(e){var t,a;if((null===(t=e._experiments)||void 0===t?void 0:t.enableLogs)&&"android"===o.Ii.getPlatform())return{enableLogs:null===(a=e._experiments)||void 0===a?void 0:a.enableLogs}}(e)};return d.initNativeSdk({options:t})},async fetchNativeDeviceContexts(){if(!this.enableNative)throw this._DisabledNativeError;if(!this.isNativeClientAvailable())throw this._NativeClientError;return"ios"!==this.platform?{}:d.fetchNativeDeviceContexts()},async fetchNativeRelease(){if(!this.enableNative)throw this._DisabledNativeError;return d.fetchNativeRelease()},async fetchNativeSdkInfo(){if(!this.enableNative)throw this._DisabledNativeError;return d.fetchNativeSdkInfo()},crash(){if(this.enableNative){if(!this.isNativeClientAvailable())throw this._NativeClientError;d.crash()}},setUser(e){if(!this.enableNative)return;if(!this.isNativeClientAvailable())throw this._NativeClientError;let t=null,a=null;if(e){let{id:i,ip_address:n,email:r,username:l,...s}=e;t=this._serializeObject({email:r,id:i,ip_address:n,username:l},!0),a=this._serializeObject(s,!0)}d.setUser({defaultUserKeys:t,otherUserKeys:a})},setTag(e,t){if(!this.enableNative)return;if(!this.isNativeClientAvailable())throw this._NativeClientError;let a="string"==typeof t?t:JSON.stringify(t);d.setTag({key:e,value:a})},setExtra(e,t){if(!this.enableNative)return;if(!this.isNativeClientAvailable())throw this._NativeClientError;let a="string"==typeof t?t:JSON.stringify(t);d.setExtra({key:e,value:a})},addBreadcrumb(e){if(this.enableNative){if(!this.isNativeClientAvailable())throw this._NativeClientError;d.addBreadcrumb({...e,level:e.level?this._processLevel(e.level):void 0,data:e.data?v(e.data):void 0})}},clearBreadcrumbs(){if(this.enableNative){if(!this.isNativeClientAvailable())throw this._NativeClientError;d.clearBreadcrumbs()}},closeNativeSdk(){if(!this.enableNative)return s.vF.debug(this._DisabledNativeError),Promise.resolve();if(!this.isNativeClientAvailable())throw this._NativeClientError;return d.closeNativeSdk().then(()=>{this.enableNative=!1})},setContext(e,t){if(this.enableNative){if(!this.isNativeClientAvailable())throw this._NativeClientError;"android"===this.platform?this.setExtra(e,t):d.setContext({key:e,value:null!==t?this._serializeObject(t):null})}},_processItem(e){if("android"===u.platform){let[t,a]=e;if("event"==t.type||"transaction"==t.type){let e=this._processLevels(a);return"message"in e&&(e.message={message:e.message}),e.breadcrumbs&&(e.breadcrumbs=[]),[t,e]}}return e},_serializeObject(e,t){let a={};return Object.keys(e).forEach(i=>{let n=e[i];(!0!==t||void 0!==n)&&(a[i]="string"==typeof n?n:JSON.stringify(n))}),a},_processLevels(e){var t;return{...e,level:e.level?this._processLevel(e.level):void 0,breadcrumbs:null===(t=e.breadcrumbs)||void 0===t?void 0:t.map(e=>({...e,level:e.level?this._processLevel(e.level):void 0}))}},_processLevel:e=>"log"==e?"debug":"critical"==e?"fatal":e,isModuleLoaded:()=>!!d,isNativeClientAvailable(){return this.isModuleLoaded()&&o.Ii.isPluginAvailable("SentryCapacitor")},_DisabledNativeError:Error("Native is disabled"),_NativeClientError:Error("Native Client is not available, can't start on native."),enableNative:!0,platform:o.Ii.getPlatform()},h=()=>({name:"DeviceContext",processEvent:b});async function b(e){try{let t=await u.fetchNativeDeviceContexts(),a=t.context;if(e.contexts={...a,...e.contexts},"user"in t){let a=t.user;e.user||(e.user={...a})}}catch(e){s.vF.log(`Failed to get device context from native: ${e}`)}return e}let p=()=>({name:"EventOrigin",preprocessEvent:g});async function g(e){var t;return e.tags=null!==(t=e.tags)&&void 0!==t?t:{},e.tags["event.origin"]="javascript",e.tags["event.environment"]="javascript",e}let N=()=>({name:"Release",processEvent:m});async function m(e,t,a){let i=a.getOptions();if("string"==typeof(null==i?void 0:i.release)&&(e.release=i.release),"string"==typeof(null==i?void 0:i.dist)&&(e.dist=i.dist),e.release&&e.dist)return e;try{let t=await u.fetchNativeRelease();t&&(e.release||(e.release=`${t.id}@${t.version}+${t.build}`),e.dist||(e.dist=`${t.build}`))}catch(e){}return e}var y=a(88485);let _=a(18845).O,E=()=>(0,y.D)({iteratee:k});function k(e){if(e.filename){let t=/^https?:\/\//.test(e.filename),a=_.WEBVIEW_SERVER_URL;if(a?e.filename=e.filename.replace(a,""):e.filename=e.filename.replace(/^https?:\/\/localhost(:\d+)?/,"").replace(/^capacitor:\/\/localhost(:\d+)?/,""),e.filename=e.filename.replace(/^ng:\/\//,""),"[native code]"===e.filename||"native"===e.filename)e.in_app=!1;else{if(!t){let t=e.filename.startsWith("/")?e.filename:`/${e.filename}`;e.filename=`app://${t}`}e.in_app=!0}}return e}let w="2.1.0",S=null,C=()=>({name:"SdkInfo",processEvent:T});async function T(e){if("ios"===u.platform&&null===S)try{S=await u.fetchNativeSdkInfo()}catch(e){s.vF.warn("[SdkInfo] Native SDK Info retrieval failed...something could be wrong with your Sentry installation.")}return e.platform=e.platform||"javascript",e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||"sentry.javascript.capacitor",e.sdk.version=e.sdk.version||w,e.sdk.packages=[...e.sdk.packages||[],...S&&[S]||[],{name:"npm:@sentry/capacitor",version:w}],e}var x=a(46403);function A(e,t,a){(0,x.GS)(e,t,a)}let I=new WeakMap;function D(e){I.has(e)||(I.set(e,!0),A(e,"setUser",t=>a=>(u.setUser(a),t.call(e,a))),A(e,"setTag",t=>(a,i)=>(u.setTag(a,i),t.call(e,a,i))),A(e,"setTags",t=>a=>(Object.keys(a).forEach(e=>{u.setTag(e,a[e])}),t.call(e,a))),A(e,"setExtras",t=>a=>(Object.keys(a).forEach(e=>{u.setExtra(e,a[e])}),t.call(e,a))),A(e,"setExtra",t=>(a,i)=>(u.setExtra(a,i),t.call(e,a,i))),A(e,"addBreadcrumb",t=>(a,i)=>{let n={...a,level:a.level||"info",data:a.data?v(a.data):void 0};t.call(e,n,i);let r=e.getLastBreadcrumb();return r&&u.addBreadcrumb(r),e}),A(e,"clearBreadcrumbs",t=>()=>(u.clearBreadcrumbs(),t.call(e))),A(e,"setContext",t=>(a,i)=>(u.setContext(a,i),t.call(e,a,i))))}var O=a(95200),M=a(43674);let R=()=>{let e=(0,O.EU)(),t=e.__SENTRY__=e.__SENTRY__||{};(t[M.M]=t[M.M]||{}).encodePolyfill=j},j=e=>new Uint8Array(f(e));var B=a(59561);class F{constructor(e={}){this._buffer=(0,B.C)(e.bufferSize||30)}send(e){return this._buffer.add(()=>u.sendEnvelope(e))}flush(e){return this._buffer.drain(e)}}function L(e={}){return new F(e)}let z=()=>"undefined"!=typeof TextEncoder;function P(e,t=n.Ts){var a,i,o;let d={enableAutoSessionTracking:!0,enableWatchdogTerminationTracking:!0,enableCaptureFailedRequests:!1,...e};!1===d.enabled||"web"===u.platform?(d.enableNative=!1,d.enableNativeNagger=!1):(null!==(a=d.enableNativeNagger)&&void 0!==a||(d.enableNativeNagger=!0),null!==(i=d.enableNative)&&void 0!==i||(d.enableNative=!0));let c=void 0===e.defaultIntegrations?function(e){let t=[];return t.push(E()),t.push(N()),t.push(p()),t.push(C()),e.enableNative&&t.push(h()),t}(e):e.defaultIntegrations;d.integrations=(0,r.mH)({integrations:function(e,t={}){return"function"==typeof e?(...a)=>{try{return e(...a)}catch(i){return s.vF.error(t.loggerMessage?t.loggerMessage:`The ${e.name} callback threw an error`,i),a[0]}}:e}(e.integrations,{loggerMessage:"The integrations threw an error"}),defaultIntegrations:c}),d.enableNative&&!e.transport&&"web"!==u.platform&&(d.transport=e.transport||L,d.transportOptions={...null!==(o=e.transportOptions)&&void 0!==o?o:{},bufferSize:30}),z()||R(),d.enableNative&&(D((0,l.m6)()),D((0,l.rm)()));let v={...d,autoSessionTracking:"web"===u.platform&&d.enableAutoSessionTracking},f={...d,enableAutoSessionTracking:"web"!==u.platform&&d.enableAutoSessionTracking};u.initNativeSdk(f),t(v)}}}]);